(function(){"use strict";var e={1998:function(e,t,a){var i=a(8935),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],o=a(1001),r={},l=(0,o.Z)(r,s,n,!1,null,null,null),c=l.exports,d=a(2809),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"hero is-fullheight is-primary"},[a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column card"},[a("form",{staticClass:"card-content form",on:{submit:e.checkForm}},[a("h1",{staticClass:"has-text-primary title is-size-3-mobile is-size-2 is-size-1-widescreen has-text-left"},[e._v("Bem-vindo ao Help4 Business")]),a("b-field",{staticClass:"my-5",attrs:{label:"E-mail","label-position":"on-border"}},[a("b-input",{attrs:{id:"email",icon:"email",placeholder:"Informe seu e-mail",required:"",size:"is-medium",type:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("b-field",{staticClass:"my-5",attrs:{label:"Senha","label-position":"on-border"}},[a("b-input",{attrs:{id:"password",icon:"lock","password-reveal":"",placeholder:"Informe sua senha",required:"",size:"is-medium",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("b-button",{staticClass:"is-primary is-fullwidth mb-5",attrs:{id:"loginButton",disabled:e.isLoading,loading:e.isLoading,"icon-left":"login","native-type":"submit",size:"is-medium"}},[e._v(" Entrar ")]),a("router-link",{attrs:{hidden:e.isLoading,to:"/register"}},[e._v("Cadastre-se")])],1)]),a("div",{staticClass:"column card login-bg is-hidden-mobile"})])])]),a("footer-component")],1)},m=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[a("b-tooltip",{attrs:{label:"Acesse o github",position:"is-right",type:"is-dark"}},[a("a",{attrs:{href:"https://github.com/charleslana",target:"_blank"}},[a("b-icon",{attrs:{icon:"github",size:"is-medium",type:"is-dark"}})],1)])],1)]),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("p",[e._v("© "+e._s(e.getYear())+" Help4 Business. Todos os direitos reservados.")])])])])])},h=[],b={methods:{getYear(){const e=new Date;return e.getFullYear()}}},g=b,v=(0,o.Z)(g,p,h,!1,null,null,null),f=v.exports,y=a(6166),C=a.n(y),S=a(3796);class k{static getToken(){return localStorage.getItem(this.storageToken)}static getAccountType(){return localStorage.getItem(this.storageAccountType)}static getName(){return localStorage.getItem(this.storageName)}static getEmail(){return localStorage.getItem(this.storageEmail)}static setToken(e){return localStorage.setItem(this.storageToken,e)}static setAccountType(e){return localStorage.setItem(this.storageAccountType,e)}static setName(e){return localStorage.setItem(this.storageName,e)}static setEmail(e){return localStorage.setItem(this.storageEmail,e)}static logout(){this.getToken()&&localStorage.removeItem(this.storageToken),this.getAccountType()&&localStorage.removeItem(this.storageAccountType),this.getName()&&localStorage.removeItem(this.storageName),this.getEmail()&&localStorage.removeItem(this.storageEmail)}}(0,S.Z)(k,"storageToken","token"),(0,S.Z)(k,"storageAccountType","accountType"),(0,S.Z)(k,"storageName","name"),(0,S.Z)(k,"storageEmail","email");var _=k;const I=C().create({baseURL:"https://h4b-help-desk-api.herokuapp.com"});I.interceptors.request.use((e=>{const t=_.getToken();return e.headers={Authorization:t?`Bearer ${t}`:""},e}),(e=>Promise.reject(e))),I.interceptors.response.use((function(e){return e}),(async function(e){if(e.response){if(401!==e.response.status&&403!==e.response.status)return Promise.reject(e);await Ge.push("/")}return Promise.reject(e)}));var A,L=I,T={components:{FooterComponent:f},data(){return{email:null,password:null,isLoading:!1}},methods:{checkForm(e){this.requestLogin(),e.preventDefault()},requestLogin(){this.isLoading=!0;const e=new FormData;e.append("email",this.email),e.append("password",this.password),L.post("/login",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{if(204===e.status)return this.$buefy.toast.open({message:"Acesso inválido",type:"is-danger"}),void(this.isLoading=!1);_.setToken(e.data.accessToken),_.setAccountType(e.data.accountType),_.setName(e.data.name),_.setEmail(e.data.email),Ge.push("/dashboard")})).catch((e=>{this.isLoading=!1,void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})}))}},mounted(){_.logout()}},E=T,N=(0,o.Z)(E,u,m,!1,null,null,null),D=N.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"hero is-fullheight is-primary"},[a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column card"},[a("div",{staticClass:"card-content form has-text-left"},[a("h1",{staticClass:"has-text-primary title is-size-3-mobile is-size-2 is-size-1-widescreen has-text-left"},[e._v("Faça seu cadastro agora!")]),a("b-steps",{attrs:{animated:e.isAnimated,"has-navigation":e.hasNavigation,"icon-next":e.nextIcon,"icon-prev":e.prevIcon,"label-position":e.labelPosition,"mobile-mode":e.mobileMode,rounded:e.isRounded},scopedSlots:e._u([e.customNavigation?{key:"navigation",fn:function(t){var i=t.previous,s=t.next;return[a("b-button",{attrs:{disabled:i.disabled,"icon-left":"backward","icon-pack":"fas",outlined:"",type:"is-danger"},on:{click:function(e){return e.preventDefault(),i.action.apply(null,arguments)}}},[e._v(" Previous ")]),a("b-button",{attrs:{disabled:s.disabled,"icon-pack":"fas","icon-right":"forward",outlined:"",type:"is-success"},on:{click:function(e){return e.preventDefault(),s.action.apply(null,arguments)}}},[e._v(" Next ")])]}}:null],null,!0),model:{value:e.activeStep,callback:function(t){e.activeStep=t},expression:"activeStep"}},[a("b-step-item",{attrs:{clickable:e.isStepsClickable,icon:"lock-open",label:"Informação de login",step:"1"}},[e.errors.length?a("div",{staticClass:"help is-danger"},[a("strong",[e._v("Por favor corrija os seguintes erro(s):")]),a("ul",e._l(e.errors,(function(t,i){return a("li",{key:i},[e._v(e._s(t))])})),0)]):e._e(),a("b-field",{staticClass:"my-5",attrs:{label:"E-mail","label-position":"on-border"}},[a("b-input",{attrs:{id:"email",icon:"email",placeholder:"Informe seu e-mail",required:"",size:"is-medium",type:"email"},nativeOn:{keyup:function(t){return e.checkStepForm1()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("b-field",{staticClass:"my-5",attrs:{label:"Senha","label-position":"on-border"}},[a("b-input",{attrs:{id:"password",icon:"lock","password-reveal":"",placeholder:"Informe sua senha",required:"",size:"is-medium",type:"password"},nativeOn:{keyup:function(t){return e.checkStepForm1()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("b-field",{staticClass:"my-5",attrs:{label:"Confirmar senha","label-position":"on-border"}},[a("b-input",{attrs:{id:"passwordConfirmation",icon:"lock","password-reveal":"",placeholder:"Confirme sua senha",required:"",size:"is-medium",type:"password"},nativeOn:{keyup:function(t){return e.checkStepForm1()}},model:{value:e.passwordConfirmation,callback:function(t){e.passwordConfirmation=t},expression:"passwordConfirmation"}})],1),a("b-button",{staticClass:"is-primary is-fullwidth mb-5",attrs:{id:"nextButton1",disabled:e.isDisabled,"icon-left":"arrow-right-bold",size:"is-medium"},on:{click:e.handleStep1}},[e._v(" Próximo ")])],1),a("b-step-item",{attrs:{clickable:e.isStepsClickable,type:{"is-success":e.isProfileSuccess},icon:"account",label:"Informação pessoal",step:"2"}},[e.errors.length?a("div",{staticClass:"help is-danger"},[a("strong",[e._v("Por favor corrija os seguintes erro(s):")]),a("ul",e._l(e.errors,(function(t,i){return a("li",{key:i},[e._v(e._s(t))])})),0)]):e._e(),a("b-field",{staticClass:"my-5",attrs:{label:"Nome","label-position":"on-border"}},[a("b-input",{attrs:{id:"name",icon:"account",placeholder:"Informe seu nome",required:"",size:"is-medium",type:"text"},nativeOn:{keyup:function(t){return e.checkStepForm2()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("b-field",{staticClass:"my-5",attrs:{label:"Informe seu país","label-position":"on-border"}},[a("b-autocomplete",{attrs:{id:"nameCountry",data:e.filteredDataCountryArray,clearable:"",icon:"map-marker",placeholder:"Exemplo: Brasil",required:"",size:"is-medium"},on:{select:function(t){return e.nameCountrySelected=t}},nativeOn:{keyup:function(t){return e.checkStepForm2()}},scopedSlots:e._u([{key:"empty",fn:function(){return[e._v("Nenhum resultado encontrado.")]},proxy:!0}]),model:{value:e.nameCountry,callback:function(t){e.nameCountry=t},expression:"nameCountry"}})],1),a("b-field",{staticClass:"my-5",attrs:{label:"Número de telefone","label-position":"on-border"}},[a("b-input",{attrs:{id:"phoneNumber",icon:"phone",maxlength:"15",placeholder:"Exemplo: 11911110000 (opcional)",size:"is-medium",type:"text"},nativeOn:{keyup:function(t){return e.checkStepForm2()}},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),a("b-button",{staticClass:"is-primary is-fullwidth mb-5",attrs:{id:"nextButton2",disabled:e.isDisabled,"icon-left":"arrow-right-bold",size:"is-medium"},on:{click:e.handleStep2}},[e._v(" Próximo ")]),a("a",{on:{click:function(t){return t.preventDefault(),e.handlePreviousStep.apply(null,arguments)}}},[a("b-icon",{attrs:{icon:"arrow-left-thick",size:"is-small"}}),e._v(" Passo anterior")],1)],1),a("b-step-item",{attrs:{clickable:e.isStepsClickable,step:3,icon:"account-plus",label:"Tipo de conta"}},[a("p",{staticClass:"has-text-centered mb-5"},[e._v("Selecione o tipo de conta "),a("b-tooltip",{attrs:{label:"Caso você solicite a conta de Administrador, ela vai ficar em análise e depois será reativada.",multilined:"",position:"is-top",type:"is-dark"}},[a("b-icon",{attrs:{icon:"information-outline"}})],1)],1),a("b-field",[a("b-radio",{attrs:{name:"accountType","native-value":"USER",required:"",size:"is-medium"},nativeOn:{click:function(t){return e.checkStepForm3.apply(null,arguments)}},model:{value:e.accountType,callback:function(t){e.accountType=t},expression:"accountType"}},[e._v(" Usuário da plataforma ")])],1),a("b-field",[a("b-radio",{attrs:{name:"accountType","native-value":"ADMIN",size:"is-medium"},nativeOn:{click:function(t){return e.checkStepForm3.apply(null,arguments)}},model:{value:e.accountType,callback:function(t){e.accountType=t},expression:"accountType"}},[e._v(" Administrador da plataforma ")])],1),a("b-button",{staticClass:"is-primary is-fullwidth mb-5",attrs:{id:"nextButton3",disabled:e.isDisabled,loading:e.isLoading,"icon-left":"check",size:"is-medium"},on:{click:e.handleStep3}},[e._v(" Finalizar ")]),a("a",{attrs:{hidden:e.isLoading},on:{click:function(t){return t.preventDefault(),e.handlePreviousStep.apply(null,arguments)}}},[a("b-icon",{attrs:{icon:"arrow-left-thick",size:"is-small"}}),e._v(" Passo anterior")],1)],1),a("b-step-item",{attrs:{clickable:e.isStepsClickable,step:4,icon:"check",label:"Concluído"}},[a("h1",{staticClass:"title has-text-centered"},[e._v("O cadastro foi concluído com sucesso!")])])],1),0===e.activeStep||3===e.activeStep?a("router-link",{attrs:{to:"/login"}},[e._v("Efetuar Login")]):e._e()],1)]),a("div",{staticClass:"column card login-bg is-hidden-mobile"})])])]),a("footer-component")],1)},M=[],x={components:{FooterComponent:f},data(){return{activeStep:0,isAnimated:!0,isRounded:!0,isStepsClickable:!1,hasNavigation:!1,customNavigation:!1,isProfileSuccess:!1,prevIcon:"chevron-left",nextIcon:"chevron-right",labelPosition:"bottom",mobileMode:"minimalist",isDisabled:!0,errors:[],email:null,password:null,passwordConfirmation:null,name:null,dataCountry:["Afeganistão","África do Sul","Albânia","Alemanha","Andorra","Angola","Anguilla","Antártida","Antígua e Barbuda","Antilhas Holandesas","Arábia Saudita","Argélia","Argentina","Armênia","Aruba","Austrália","Áustria","Azerbaijão","Bahamas","Bahrein","Bangladesh","Barbados","Belarus","Bélgica","Belize","Benin","Bermudas","Bolívia","Bósnia-Herzegóvina","Botsuana","Brasil","Brunei","Bulgária","Burkina Fasso","Burundi","Butão","Cabo Verde","Camarões","Camboja","Canadá","Cazaquistão","Chade","Chile","China","Chipre","Cingapura","Colômbia","Congo","Coréia do Norte","Coréia do Sul","Costa do Marfim","Costa Rica","Croácia (Hrvatska)","Cuba","Dinamarca","Djibuti","Dominica","Egito","El Salvador","Emirados Árabes Unidos","Equador","Eritréia","Eslováquia","Eslovênia","Espanha","Estados Unidos","Estônia","Etiópia","Fiji","Filipinas","Finlândia","França","Gabão","Gâmbia","Gana","Geórgia","Gibraltar","Grã-Bretanha (Reino Unido, UK)","Granada","Grécia","Groelândia","Guadalupe","Guam (Território dos Estados Unidos)","Guatemala","Guernsey","Guiana","Guiana Francesa","Guiné","Guiné Equatorial","Guiné-Bissau","Haiti","Holanda","Honduras","Hong Kong","Hungria","Iêmen","Ilha Bouvet (Território da Noruega)","Ilha do Homem","Ilha Natal","Ilha Pitcairn","Ilha Reunião","Ilhas Aland","Ilhas Cayman","Ilhas Cocos","Ilhas Comores","Ilhas Cook","Ilhas Faroes","Ilhas Falkland (Malvinas)","Ilhas Geórgia do Sul e Sandwich do Sul","Ilhas Heard e McDonald (Território da Austrália)","Ilhas Marianas do Norte","Ilhas Marshall","Ilhas Menores dos Estados Unidos","Ilhas Norfolk","Ilhas Seychelles","Ilhas Solomão","Ilhas Svalbard e Jan Mayen","Ilhas Tokelau","Ilhas Turks e Caicos","Ilhas Virgens (Estados Unidos)","Ilhas Virgens (Inglaterra)","Ilhas Wallis e Futuna","índia","Indonésia","Irã","Iraque","Irlanda","Islândia","Israel","Itália","Jamaica","Japão","Jersey","Jordânia","Kênia","Kiribati","Kuait","Laos","Látvia","Lesoto","Líbano","Libéria","Líbia","Liechtenstein","Lituânia","Luxemburgo","Macau","Macedônia (República Yugoslava)","Madagascar","Malásia","Malaui","Maldivas","Mali","Malta","Marrocos","Martinica","Maurício","Mauritânia","Mayotte","México","Micronésia","Moçambique","Moldova","Mônaco","Mongólia","Montenegro","Montserrat","Myanma","Namíbia","Nauru","Nepal","Nicarágua","Níger","Nigéria","Niue","Noruega","Nova Caledônia","Nova Zelândia","Omã","Palau","Panamá","Papua-Nova Guiné","Paquistão","Paraguai","Peru","Polinésia Francesa","Polônia","Porto Rico","Portugal","Qatar","Quirguistão","República Centro-Africana","República Democrática do Congo","República Dominicana","República Tcheca","Romênia","Ruanda","Rússia (antiga URSS) - Federação Russa","Saara Ocidental","Saint Vincente e Granadinas","Samoa Americana","Samoa Ocidental","San Marino","Santa Helena","Santa Lúcia","São Bartolomeu","São Cristóvão e Névis","São Martim","São Tomé e Príncipe","Senegal","Serra Leoa","Sérvia","Síria","Somália","Sri Lanka","St. Pierre and Miquelon","Suazilândia","Sudão","Suécia","Suíça","Suriname","Tadjiquistão","Tailândia","Taiwan","Tanzânia","Território Britânico do Oceano índico","Territórios do Sul da França","Territórios Palestinos Ocupados","Timor Leste","Togo","Tonga","Trinidad and Tobago","Tunísia","Turcomenistão","Turquia","Tuvalu","Ucrânia","Uganda","Uruguai","Uzbequistão","Vanuatu","Vaticano","Venezuela","Vietnã","Zâmbia","Zimbábue"],nameCountry:"",nameCountrySelected:null,phoneNumber:null,accountType:null,isLoading:!1}},methods:{checkStepForm1(){this.errors=[],this.email&&this.password&&this.passwordConfirmation?this.isDisabled=!1:this.isDisabled=!0},checkStepForm2(){this.errors=[],this.name&&this.nameCountry?this.isDisabled=!1:this.isDisabled=!0},checkStepForm3(){this.isDisabled=!1},handleStep1(){this.errors=[],this.email?this.validEmail(this.email)||this.errors.push("O e-mail deve ser válido."):this.errors.push("E-mail é requerido."),this.password!==this.passwordConfirmation&&this.errors.push("A confirmação das senhas está incorreta."),this.password.length<6&&this.errors.push("A senha deve conter no mínimo 6 caracteres"),this.errors.length||(this.activeStep++,this.isDisabled=!0,this.checkStepForm2())},handleStep2(){this.errors=[],this.phoneNumber&&this.validNumber(this.phoneNumber)&&this.errors.push("O número de telefone deve ser válido."),this.errors.length||(this.activeStep++,this.isDisabled=!this.accountType)},handleStep3(){this.requestCreateUser()},validEmail:function(e){const t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},validNumber:function(e){return isNaN(Number(e))},handlePreviousStep(){this.activeStep>0&&(this.errors=[],this.activeStep--,this.isDisabled=!1)},requestCreateUser(){this.isDisabled=!0,this.isLoading=!0,L.post("/api/v1/user",{email:this.email,password:this.password,name:this.name,country:this.nameCountry,phoneNumber:this.phoneNumber,accountType:this.accountType}).then((()=>{this.activeStep++})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1,this.isDisabled=!1}))}},computed:{filteredDataCountryArray(){return this.dataCountry.filter((e=>e.toString().toLowerCase().indexOf(this.nameCountry.toLowerCase())>=0))}}},q=x,P=(0,o.Z)(q,w,M,!1,null,null,null),R=P.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main"},[a("navbar-component"),a("menu-component"),a("section",{staticClass:"section"},[a("h2",{staticClass:"title is-4 has-text-primary"},[e._v("Dashboard")]),e.isAdmin?a("nav",{staticClass:"level",attrs:{"aria-label":"admin"}},[a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[e._v("Solicitações totais")]),e.isLoading?e._e():a("p",{staticClass:"title"},[e._v(e._s(e.total))]),a("b-skeleton",{attrs:{active:e.isLoading}})],1)]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[e._v("Solicitações em aberto")]),e.isLoading?e._e():a("p",{staticClass:"title"},[e._v(e._s(e.opened))]),a("b-skeleton",{attrs:{active:e.isLoading}})],1)]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[e._v("Solicitações em processamento")]),e.isLoading?e._e():a("p",{staticClass:"title"},[e._v(e._s(e.processing))]),a("b-skeleton",{attrs:{active:e.isLoading}})],1)]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[e._v("Solicitações finalizadas")]),e.isLoading?e._e():a("p",{staticClass:"title"},[e._v(e._s(e.finished))]),a("b-skeleton",{attrs:{active:e.isLoading}})],1)])]):e._e(),e.isAdmin?e._e():a("nav",{staticClass:"level",attrs:{"aria-label":"user"}},[a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[e._v("Minhas solicitações")]),e.isLoading?e._e():a("p",{staticClass:"title"},[e._v(e._s(e.total))]),a("b-skeleton",{attrs:{active:e.isLoading}})],1)]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[e._v("Em aberto")]),e.isLoading?e._e():a("p",{staticClass:"title"},[e._v(e._s(e.opened))]),a("b-skeleton",{attrs:{active:e.isLoading}})],1)]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[e._v("Em processamento")]),e.isLoading?e._e():a("p",{staticClass:"title"},[e._v(e._s(e.processing))]),a("b-skeleton",{attrs:{active:e.isLoading}})],1)]),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[e._v("Finalizadas")]),e.isLoading?e._e():a("p",{staticClass:"title"},[e._v(e._s(e.finished))]),a("b-skeleton",{attrs:{active:e.isLoading}})],1)])])]),a("footer-component")],1)},F=[],B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-navbar",{staticClass:"is-fixed-top",scopedSlots:e._u([{key:"brand",fn:function(){return[a("b-navbar-item",{attrs:{to:{path:"/dashboard"},tag:"router-link"}},[a("h1",{staticClass:"has-text-primary title"},[e._v("Help4 Business")])])]},proxy:!0},{key:"end",fn:function(){return[a("b-navbar-item",{attrs:{tag:"div"}},[a("div",{staticClass:"buttons"},[a("p",[e._v("Bem-vindo(a) "),a("span",{attrs:{id:"userName"}},[e._v(e._s(e.name))])]),a("b-button",{staticClass:"ml-5",attrs:{id:"logout","icon-left":"logout",outlined:""},on:{click:e.logout}},[e._v(" Desconectar ")])],1)])]},proxy:!0}])})},O=[],U={data(){return{name:""}},methods:{logout(){Ge.replace({path:"/"})}},mounted(){document.body.classList.add("has-navbar-fixed-top"),this.name=_.getName()},destroyed(){document.body.classList.remove("has-navbar-fixed-top")}},$=U,G=(0,o.Z)($,B,O,!1,null,null,null),j=G.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-menu",{staticClass:"is-fullheight is-hidden-mobile is-active"},[a("b-menu-list",[a("b-menu-item",{attrs:{icon:"home",label:"Home",size:"is-large",tag:"router-link",to:"/dashboard"}})],1),a("b-menu-list",[a("b-menu-item",{attrs:{icon:"clipboard-edit-outline",label:"Solicitações",size:"is-large",tag:"router-link",to:"/requests"}})],1),a("b-menu-list",[a("b-menu-item",{attrs:{icon:"account-cog",label:"Configurações",size:"is-large",tag:"router-link",to:"/settings"}})],1),e.isAdmin?a("b-menu-list",[a("b-menu-item",{attrs:{icon:"account-multiple",label:"Usuários",size:"is-large",tag:"router-link",to:"/users"}})],1):e._e()],1)},V=[];(function(e){e["USER"]="Usuário",e["ADMIN"]="Administrador"})(A||(A={}));const Z=e=>Object.keys(A)[Object.values(A).indexOf(e)],J=e=>{const t=A[e];switch(t){case A.USER:return A.USER;case A.ADMIN:return A.ADMIN;default:return A.USER}};var K,W=A,Y={data(){return{isAdmin:!1}},methods:{checkAdmin(){_.getAccountType()===Z(W.ADMIN)&&(this.isAdmin=!0)}},mounted(){this.checkAdmin()}},Q=Y,X=(0,o.Z)(Q,H,V,!1,null,null,null),ee=X.exports,te={data(){return{isLoading:!0,isAdmin:!1,total:0,opened:0,processing:0,finished:0}},mounted(){this.getTotalizer(),this.checkAdmin()},methods:{getTotalizer(){this.isLoading=!0,L.get("/api/v1/request/totalizer").then((e=>{this.total=e.data.total,this.opened=e.data.opened,this.processing=e.data.processing,this.finished=e.data.finished})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))},checkAdmin(){_.getAccountType()===Z(W.ADMIN)&&(this.isAdmin=!0)}},components:{MenuComponent:ee,NavbarComponent:j,FooterComponent:f}},ae=te,ie=(0,o.Z)(ae,z,F,!1,null,null,null),se=ie.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main"},[a("navbar-component"),a("menu-component"),a("section",{staticClass:"section"},[a("h2",{staticClass:"title is-4 has-text-primary"},[e._v("Solicitações")]),a("div",{staticClass:"has-text-right"},[a("b-button",{staticClass:"is-primary mb-5",attrs:{id:"newRequestButton","icon-left":"plus","native-type":"submit",tag:"router-link",to:"/requests/create"}},[e._v(" Nova Solicitação ")])],1),a("form",{staticClass:"form",on:{submit:e.checkFormFilter}},[a("b-field",{staticClass:"mb-5",attrs:{grouped:"",label:"Prioridade","label-position":"on-border"}},[a("b-select",{attrs:{id:"selectCategory",expanded:"",placeholder:"Selecione uma categoria"},model:{value:e.selectCategory,callback:function(t){e.selectCategory=t},expression:"selectCategory"}},e._l(e.priority,(function(t){return a("option",{key:t.id,domProps:{value:t.type}},[e._v(" "+e._s(t.title)+" ")])})),0),a("b-field",{attrs:{expanded:"",label:"Datas","label-position":"on-border"}},[a("b-datepicker",{attrs:{id:"selectDate",placeholder:"Clque para selecionar as datas",range:""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1)],1),a("div",{staticClass:"buttons is-justify-content-space-between"},[a("b-button",{staticClass:"is-primary mb-5",attrs:{id:"filterButton","icon-left":"filter","native-type":"submit"}},[e._v(" Filtrar ")]),a("b-button",{staticClass:"is-primary mb-5",attrs:{id:"clearButton","icon-left":"filter-remove"},on:{click:e.clear}},[e._v(" Limpar ")])],1)],1),0===e.filterRequests.length?a("p",{staticClass:"has-text-centered"},[e._v("Nenhum resultado encontrado.")]):e._e(),a("div",{staticClass:"is-flex-wrap-wrap columns"},e._l(e.filterRequests,(function(t){return a("div",{key:t.id,staticClass:"column is-3"},[a("div",{staticClass:"card equal-height"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("p",[e._v(e._s(e.handlePriority(t.priority)))]),a("strong",[e._v("Solicitação realizada em: ")]),a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("time",{staticClass:"is-italic"},[e._v(e._s(e.getDate(new Date(t.createdAt))))])],1)]),a("footer",{staticClass:"card-footer"},[a("div",{staticClass:"card-footer-item"},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("a",{on:{click:function(a){return a.preventDefault(),e.openModal(t.id)}}},[e._v("Visualizar")])],1),a("div",{staticClass:"card-footer-item"},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("span",{class:e.handleStatusTag(t.status)},[e._v(e._s(e.handleStatus(t.status)))])],1)])])])})),0),a("b-modal",{attrs:{"can-cancel":!1},model:{value:e.isModalActive,callback:function(t){e.isModalActive=t},expression:"isModalActive"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("b-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("b-tab-item",{attrs:{label:"Dados da solicitação"}},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large",width:"64px"}}),e.isLoading?e._e():a("span",{class:e.handleStatusTag(e.editStatus)},[e._v(e._s(e.handleStatus(e.editStatus)))])],1)]),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large",width:"100px"}}),e.isLoading?e._e():a("p",[e._v("Data da solicitação: "),a("strong",[e._v(e._s(e.getDate(e.createdAt)))])])],1)])]),a("form",{staticClass:"form",on:{submit:e.checkFormEditRequest}},[a("b-field",{staticClass:"my-5",attrs:{label:"Prioridade","label-position":"on-border"}},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("b-select",{attrs:{id:"editSelectCategory",disabled:e.isEdit()||e.getIsAdmin()&&e.email!==e.myEmail(),expanded:"",placeholder:"Selecione uma categoria",required:""},model:{value:e.editSelectCategory,callback:function(t){e.editSelectCategory=t},expression:"editSelectCategory"}},e._l(e.priority,(function(t){return a("option",{key:t.id,domProps:{value:t.type}},[e._v(" "+e._s(t.title)+" ")])})),0)],1),a("b-field",{staticClass:"my-5",attrs:{label:"Descrição","label-position":"on-border"}},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("b-input",{attrs:{id:"editDescription",disabled:e.isEdit()||e.getIsAdmin()&&e.email!==e.myEmail(),value:e.editDescription,maxlength:"1000",minlength:"10",placeholder:"Descreva o problema detalhadamente aqui",required:"",rows:"7",type:"textarea"},model:{value:e.editDescription,callback:function(t){e.editDescription=t},expression:"editDescription"}})],1),e.email!==e.myEmail()&&e.email?e._e():a("b-button",{staticClass:"is-primary mb-5",attrs:{id:"editButton",disabled:e.isEdit()||e.isLoading,"icon-left":"content-save","native-type":"submit"}},[e._v(" Salvar ")])],1)]),a("b-tab-item",{attrs:{label:"Notificações"}},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("p",[e._v("Data da última atualização: "),a("strong",[e._v(e._s(e.getDate(e.updatedAt)))])]),a("form",{staticClass:"form",on:{submit:e.checkFormChangeStatus}},[a("b-field",{staticClass:"my-5",attrs:{label:"Justificativa","label-position":"on-border"}},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("b-input",{attrs:{disabled:!e.getIsAdmin(),value:e.justify,maxlength:"1000",minlength:"10",placeholder:"Nenhuma justificativa no momento",rows:"7",type:"textarea"},model:{value:e.justify,callback:function(t){e.justify=t},expression:"justify"}})],1),!e.isLoading&&e.getIsAdmin()?a("b-field",{staticClass:"my-5",attrs:{label:"Status","label-position":"on-border"}},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),a("b-select",{attrs:{id:"editStatus",expanded:"",placeholder:"Selecione um status",required:""},model:{value:e.editStatus,callback:function(t){e.editStatus=t},expression:"editStatus"}},e._l(e.status,(function(t){return a("option",{key:t.id,domProps:{value:t.type}},[e._v(" "+e._s(t.title)+" ")])})),0)],1):e._e(),e.getIsAdmin()?a("b-button",{staticClass:"is-primary mb-5",attrs:{id:"justifyButton",disabled:e.isLoading,"icon-left":"content-save","native-type":"submit"}},[e._v(" Justificar ")]):e._e()],1)],1),e.isAdmin&&e.email!==e.myEmail()?e._e():a("b-tab-item",{attrs:{label:"Cancelar"}},[a("p",[e._v("Deseja cancelar a solicitação?")]),a("b-button",{staticClass:"is-danger my-5",attrs:{id:"deleteButton",disabled:e.isLoading||e.isEdit(),loading:e.isLoading,"icon-left":"close"},on:{click:e.cancelRequest}},[e._v(" Cancelar ")])],1),!0===e.isAdmin?a("b-tab-item",{attrs:{label:"Detalhes"}},[a("p",[e._v("Dados do usuário")]),a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("p",[e._v("E-mail: "),a("strong",[e._v(e._s(e.email))])]),a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("p",[e._v("Número de telefone: "),a("strong",[e._v(e._s(e.phoneNumber))])])],1):e._e()],1),a("div",{staticClass:"has-text-right"},[a("b-button",{staticClass:"is-default",attrs:{id:"editCancelButton",disabled:e.isLoading,"icon-left":"close"},on:{click:function(t){e.isModalActive=!1}}},[e._v(" Fechar ")])],1)],1)])])],1),a("footer-component")],1)},oe=[];(function(e){e["OPENED"]="Em aberto",e["PROCESSING"]="Em análise",e["FINISHED"]="Finalizada"})(K||(K={}));const re=e=>{const t=K[e];switch(t){case K.OPENED:return"is-info";case K.PROCESSING:return"is-success";default:return"is-danger"}},le=e=>{const t=K[e];switch(t){case K.OPENED:return K.OPENED;case K.PROCESSING:return K.PROCESSING;default:return K.FINISHED}},ce=e=>Object.keys(K)[Object.values(K).indexOf(e)];var de,ue=K;(function(e){e["LOW"]="Software não funciona",e["MEDIUM"]="Meu computador parou de funcionar",e["HIGH"]="Internet parou de funcionar",e["CRITICAL"]="Servidor parou de funcionar"})(de||(de={}));const me=e=>Object.keys(de)[Object.values(de).indexOf(e)],pe=e=>{const t=de[e];switch(t){case de.LOW:return de.LOW;case de.MEDIUM:return de.MEDIUM;case de.HIGH:return de.HIGH;default:return de.CRITICAL}};var he,be=de,ge={data(){return{isLoading:!1,priority:[{id:1,type:this.handlePriorityType(be.LOW),title:be.LOW},{id:2,type:this.handlePriorityType(be.MEDIUM),title:be.MEDIUM},{id:3,type:this.handlePriorityType(be.HIGH),title:be.HIGH},{id:4,type:this.handlePriorityType(be.CRITICAL),title:be.CRITICAL}],selectCategory:null,requests:[{id:1,priority:be.MEDIUM,status:ue.OPENED,date:new Date},{id:2,priority:be.LOW,status:ue.PROCESSING,date:new Date("2022/04/08")},{id:3,priority:be.HIGH,status:ue.OPENED,date:new Date},{id:4,priority:be.CRITICAL,status:ue.FINISHED,date:new Date},{id:5,priority:be.MEDIUM,status:ue.OPENED,date:new Date}],filterRequests:[],dates:[],isModalActive:!1,activeTab:0,editSelectCategory:null,editDescription:null,editStatus:ue.OPENED,justify:null,createdAt:new Date,updatedAt:new Date,isAdmin:!1,email:null,phoneNumber:null,requestId:null,status:[{id:1,type:ce(ue.OPENED),title:ue.OPENED},{id:2,type:ce(ue.PROCESSING),title:ue.PROCESSING},{id:3,type:ce(ue.FINISHED),title:ue.FINISHED}]}},methods:{checkFormFilter(e){this.isLoading=!0,this.filter(this.selectCategory,this.dates),this.isLoading=!1,e.preventDefault()},checkFormEditRequest(e){this.requestEdit(),e.preventDefault()},checkFormChangeStatus(e){this.requestChangeStatus(),e.preventDefault()},handlePriorityType(e){return me(e)},handlePriority(e){return pe(e)},getDate(e=new Date){return e.toLocaleDateString("pt-BR")},handleStatusTag(e){return"tag ".concat(re(e))},handleStatus(e){return le(e)},handleStatusType(e){return ce(e)},removeTime(e){const t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate())},filter(e,t){this.filterRequests=this.requests.filter((a=>e||0!==t.length?e&&t.length>0?this.handlePriority(a.priority)===be[e]&&this.removeTime(a.createdAt).getTime()>=t[0].getTime()&&this.removeTime(a.createdAt).getTime()<=t[1].getTime():e?this.handlePriority(a.priority)===be[e]:this.removeTime(a.createdAt).getTime()>=t[0].getTime()&&this.removeTime(a.createdAt).getTime()<=t[1].getTime():this.requests))},clear(){this.filterRequests=this.requests,this.selectCategory=null,this.dates=[]},openModal(e){this.activeTab=0,this.isModalActive=!0,this.isLoading=!0,_.getAccountType()!==Z(W.ADMIN)?this.getRequest(e):this.getAllRequest(e)},isEdit(){return le(this.editStatus)!==ue.OPENED},getIsAdmin(){return _.getAccountType()===Z(W.ADMIN)},checkRequests(){_.getAccountType()!==Z(W.ADMIN)?this.getRequests():this.getAllRequests()},myEmail(){return _.getEmail()},getRequests(){this.isLoading=!0,L.get("/api/v1/request").then((e=>{this.requests=e.data,this.filterRequests=this.requests,this.clear()})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))},getRequest(e){this.isLoading=!0,L.get(`/api/v1/request/${e}/detail`).then((e=>{this.requestId=e.data.id,this.editStatus=e.data.status,this.editSelectCategory=e.data.priority,this.editDescription=e.data.description,this.justify=e.data.justify,this.createdAt=new Date(e.data.createdAt),this.updatedAt=new Date(e.data.updatedAt)})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))},requestEdit(){this.isLoading=!0,L.put("/api/v1/request",{id:this.requestId,status:this.editStatus,priority:this.editSelectCategory,description:this.editDescription}).then((()=>{this.$buefy.toast.open({message:"Solicitação atualizada com sucesso.",type:"is-success"}),this.isModalActive=!1,this.checkRequests()})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))},cancelRequest(){this.isLoading=!0,L["delete"](`/api/v1/request/${this.requestId}`).then((()=>{this.$buefy.toast.open({message:"Solicitação cancelada com sucesso.",type:"is-success"}),this.isModalActive=!1,this.checkRequests()})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))},getAllRequests(){this.isLoading=!0,L.get("/api/v1/request/all").then((e=>{this.requests=e.data,this.filterRequests=this.requests,this.clear()})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))},getAllRequest(e){this.isLoading=!0,L.get(`/api/v1/request/${e}`).then((e=>{this.requestId=e.data.id,this.editStatus=e.data.status,this.editSelectCategory=e.data.priority,this.editDescription=e.data.description,this.justify=e.data.justify,this.createdAt=new Date(e.data.createdAt),this.updatedAt=new Date(e.data.updatedAt),this.isAdmin=!0,this.email=e.data.user.email,this.phoneNumber=e.data.user.phoneNumber})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))},requestChangeStatus(){this.isLoading=!0,L.put("/api/v1/request/change-status",{id:this.requestId,status:this.editStatus,justify:this.justify}).then((()=>{this.$buefy.toast.open({message:"Solicitação justificada com sucesso.",type:"is-success"}),this.isModalActive=!1,this.getAllRequests()})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))}},mounted(){this.filterRequests=this.requests,this.checkRequests()},components:{MenuComponent:ee,NavbarComponent:j,FooterComponent:f}},ve=ge,fe=(0,o.Z)(ve,ne,oe,!1,null,null,null),ye=fe.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main"},[a("navbar-component"),a("menu-component"),a("section",{staticClass:"section"},[a("h2",{staticClass:"title is-4 has-text-primary"},[e._v("Configurações do Usuário")]),a("b-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("b-tab-item",{attrs:{disabled:e.isLoading,label:"Meus dados"}},[a("form",{staticClass:"form",on:{submit:e.checkFormMyData}},[a("b-field",{staticClass:"my-5",attrs:{label:"E-mail","label-position":"on-border"}},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("b-input",{attrs:{value:e.email,disabled:"",icon:"email",placeholder:"Informe seu e-mail",required:"",type:"email"}})],1),a("b-field",{staticClass:"my-5",attrs:{label:"Nome","label-position":"on-border"}},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("b-input",{attrs:{id:"name",value:e.name,icon:"account",placeholder:"Informe seu nome",required:"",type:"text"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("b-field",{staticClass:"my-5",attrs:{label:"Informe seu país","label-position":"on-border"}},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("b-autocomplete",{attrs:{id:"nameCountry",data:e.filteredDataCountryArray,value:e.nameCountry,clearable:"",icon:"map-marker",placeholder:"Exemplo: Brasil",required:""},on:{select:function(t){return e.nameCountrySelected=t}},scopedSlots:e._u([{key:"empty",fn:function(){return[e._v("Nenhum resultado encontrado.")]},proxy:!0}],null,!1,2467364693),model:{value:e.nameCountry,callback:function(t){e.nameCountry=t},expression:"nameCountry"}})],1),a("b-field",{staticClass:"my-5",attrs:{label:"Número de telefone","label-position":"on-border"}},[a("b-skeleton",{attrs:{active:e.isLoading,size:"is-large"}}),e.isLoading?e._e():a("b-input",{attrs:{id:"phoneNumber",value:e.phoneNumber,icon:"phone",maxlength:"15",placeholder:"Exemplo: 11911110000 (opcional)",type:"text"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1),a("b-button",{staticClass:"is-primary mb-5",attrs:{id:"editButton",disabled:e.isLoading,loading:e.isLoading,"icon-left":"pencil","native-type":"submit"}},[e._v(" Editar ")])],1)]),a("b-tab-item",{attrs:{disabled:e.isLoading,label:"Alterar senha"}},[a("form",{staticClass:"form",on:{submit:e.checkFormChangePassword}},[a("b-field",{staticClass:"my-5",attrs:{label:"Senha","label-position":"on-border"}},[a("b-input",{attrs:{id:"password",icon:"lock",minlength:"6","password-reveal":"",placeholder:"Informe sua nova senha",required:"",type:"password"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1),a("b-button",{staticClass:"is-primary mb-5",attrs:{id:"changePasswordButton",disabled:e.isLoading,loading:e.isLoading,"icon-left":"lock-check","native-type":"submit"}},[e._v(" Salvar ")])],1)])],1)],1),a("footer-component")],1)},Se=[],ke={data(){return{activeTab:0,isLoading:!1,email:null,name:null,dataCountry:["Afeganistão","África do Sul","Albânia","Alemanha","Andorra","Angola","Anguilla","Antártida","Antígua e Barbuda","Antilhas Holandesas","Arábia Saudita","Argélia","Argentina","Armênia","Aruba","Austrália","Áustria","Azerbaijão","Bahamas","Bahrein","Bangladesh","Barbados","Belarus","Bélgica","Belize","Benin","Bermudas","Bolívia","Bósnia-Herzegóvina","Botsuana","Brasil","Brunei","Bulgária","Burkina Fasso","Burundi","Butão","Cabo Verde","Camarões","Camboja","Canadá","Cazaquistão","Chade","Chile","China","Chipre","Cingapura","Colômbia","Congo","Coréia do Norte","Coréia do Sul","Costa do Marfim","Costa Rica","Croácia (Hrvatska)","Cuba","Dinamarca","Djibuti","Dominica","Egito","El Salvador","Emirados Árabes Unidos","Equador","Eritréia","Eslováquia","Eslovênia","Espanha","Estados Unidos","Estônia","Etiópia","Fiji","Filipinas","Finlândia","França","Gabão","Gâmbia","Gana","Geórgia","Gibraltar","Grã-Bretanha (Reino Unido, UK)","Granada","Grécia","Groelândia","Guadalupe","Guam (Território dos Estados Unidos)","Guatemala","Guernsey","Guiana","Guiana Francesa","Guiné","Guiné Equatorial","Guiné-Bissau","Haiti","Holanda","Honduras","Hong Kong","Hungria","Iêmen","Ilha Bouvet (Território da Noruega)","Ilha do Homem","Ilha Natal","Ilha Pitcairn","Ilha Reunião","Ilhas Aland","Ilhas Cayman","Ilhas Cocos","Ilhas Comores","Ilhas Cook","Ilhas Faroes","Ilhas Falkland (Malvinas)","Ilhas Geórgia do Sul e Sandwich do Sul","Ilhas Heard e McDonald (Território da Austrália)","Ilhas Marianas do Norte","Ilhas Marshall","Ilhas Menores dos Estados Unidos","Ilhas Norfolk","Ilhas Seychelles","Ilhas Solomão","Ilhas Svalbard e Jan Mayen","Ilhas Tokelau","Ilhas Turks e Caicos","Ilhas Virgens (Estados Unidos)","Ilhas Virgens (Inglaterra)","Ilhas Wallis e Futuna","índia","Indonésia","Irã","Iraque","Irlanda","Islândia","Israel","Itália","Jamaica","Japão","Jersey","Jordânia","Kênia","Kiribati","Kuait","Laos","Látvia","Lesoto","Líbano","Libéria","Líbia","Liechtenstein","Lituânia","Luxemburgo","Macau","Macedônia (República Yugoslava)","Madagascar","Malásia","Malaui","Maldivas","Mali","Malta","Marrocos","Martinica","Maurício","Mauritânia","Mayotte","México","Micronésia","Moçambique","Moldova","Mônaco","Mongólia","Montenegro","Montserrat","Myanma","Namíbia","Nauru","Nepal","Nicarágua","Níger","Nigéria","Niue","Noruega","Nova Caledônia","Nova Zelândia","Omã","Palau","Panamá","Papua-Nova Guiné","Paquistão","Paraguai","Peru","Polinésia Francesa","Polônia","Porto Rico","Portugal","Qatar","Quirguistão","República Centro-Africana","República Democrática do Congo","República Dominicana","República Tcheca","Romênia","Ruanda","Rússia (antiga URSS) - Federação Russa","Saara Ocidental","Saint Vincente e Granadinas","Samoa Americana","Samoa Ocidental","San Marino","Santa Helena","Santa Lúcia","São Bartolomeu","São Cristóvão e Névis","São Martim","São Tomé e Príncipe","Senegal","Serra Leoa","Sérvia","Síria","Somália","Sri Lanka","St. Pierre and Miquelon","Suazilândia","Sudão","Suécia","Suíça","Suriname","Tadjiquistão","Tailândia","Taiwan","Tanzânia","Território Britânico do Oceano índico","Territórios do Sul da França","Territórios Palestinos Ocupados","Timor Leste","Togo","Tonga","Trinidad and Tobago","Tunísia","Turcomenistão","Turquia","Tuvalu","Ucrânia","Uganda","Uruguai","Uzbequistão","Vanuatu","Vaticano","Venezuela","Vietnã","Zâmbia","Zimbábue"],nameCountry:"",nameCountrySelected:null,phoneNumber:null,newPassword:null}},methods:{checkFormMyData(e){this.editUser(),e.preventDefault()},checkFormChangePassword(e){this.changePassword(),e.preventDefault()},getUser(){this.isLoading=!0,L.get("/api/v1/user/detail").then((e=>{this.email=e.data.email,this.name=e.data.name,this.nameCountry=e.data.country,this.phoneNumber=e.data.phoneNumber})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))},editUser(){this.isLoading=!0,L.put("/api/v1/user",{email:this.email,name:this.name,country:this.nameCountry,phoneNumber:""===this.phoneNumber?null:this.phoneNumber}).then((()=>{_.setName(this.name),document.getElementById("userName").textContent=this.name,this.$buefy.toast.open({message:"Dados cadastrais atualizado com sucesso.",type:"is-success"})})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))},changePassword(){this.isLoading=!0,L.put("/api/v1/user/change-password",{password:this.newPassword}).then((()=>{this.newPassword=null,this.$buefy.toast.open({message:"Senha atualizada com sucesso.",type:"is-success"})})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))}},computed:{filteredDataCountryArray(){return this.dataCountry.filter((e=>e.toString().toLowerCase().indexOf(this.nameCountry.toLowerCase())>=0))}},mounted(){this.getUser()},components:{MenuComponent:ee,NavbarComponent:j,FooterComponent:f}},_e=ke,Ie=(0,o.Z)(_e,Ce,Se,!1,null,null,null),Ae=Ie.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main"},[a("navbar-component"),a("menu-component"),a("section",{staticClass:"section"},[a("h2",{staticClass:"title is-4 has-text-primary"},[e._v("Criar Solicitação")]),a("form",{staticClass:"form",on:{submit:e.checkForm}},[a("b-field",{staticClass:"my-5",attrs:{label:"Prioridade","label-position":"on-border"}},[a("b-select",{attrs:{id:"selectCategory",expanded:"",placeholder:"Selecione uma categoria",required:""},model:{value:e.selectCategory,callback:function(t){e.selectCategory=t},expression:"selectCategory"}},e._l(e.priority,(function(t){return a("option",{key:t.id,domProps:{value:t.type}},[e._v(" "+e._s(t.title)+" ")])})),0)],1),a("b-field",{staticClass:"my-5",attrs:{label:"Descrição","label-position":"on-border"}},[a("b-input",{attrs:{id:"description",maxlength:"1000",minlength:"10",placeholder:"Descreva o problema detalhadamente aqui",required:"",rows:"7",type:"textarea"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),a("div",{staticClass:"buttons is-justify-content-space-between"},[a("b-button",{staticClass:"is-primary mb-5",attrs:{id:"createButton","icon-left":"plus","native-type":"submit"}},[e._v(" Cadastrar ")]),a("b-button",{staticClass:"mb-5",attrs:{id:"cancelButton","icon-left":"arrow-left","native-type":"submit",tag:"router-link",to:"/requests"}},[e._v(" Voltar ")])],1)],1),a("b-loading",{attrs:{"is-full-page":!0},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}})],1),a("footer-component")],1)},Te=[],Ee={data(){return{isLoading:!1,priority:[{id:1,type:this.handlePriorityType(be.LOW),title:be.LOW},{id:2,type:this.handlePriorityType(be.MEDIUM),title:be.MEDIUM},{id:3,type:this.handlePriorityType(be.HIGH),title:be.HIGH},{id:4,type:this.handlePriorityType(be.CRITICAL),title:be.CRITICAL}],selectCategory:null,description:null}},methods:{checkForm(e){this.createRequest(),e.preventDefault()},handlePriorityType(e){return me(e)},createRequest(){this.isLoading=!0,L.post("/api/v1/request",{priority:this.selectCategory,description:this.description}).then((()=>{this.$buefy.toast.open({message:"Solicitação efetuada com sucesso.",type:"is-success"}),Ge.push("/requests")})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))}},components:{MenuComponent:ee,NavbarComponent:j,FooterComponent:f}},Ne=Ee,De=(0,o.Z)(Ne,Le,Te,!1,null,null,null),we=De.exports,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main"},[a("navbar-component"),a("menu-component"),a("section",{staticClass:"section"},[a("h2",{staticClass:"title is-4 has-text-primary"},[e._v("Usuários")]),a("b-table",{attrs:{data:e.data,"default-sort":"id","default-sort-direction":"asc",paginated:"","pagination-order":"","per-page":"10","sort-icon":"arrow-up","sort-icon-size":"is-small"}},[a("b-table-column",{attrs:{centered:"",field:"id",label:"ID",numeric:"",searchable:"",sortable:"",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),a("b-table-column",{attrs:{field:"name",label:"Nome",searchable:"",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),a("b-table-column",{attrs:{field:"email",label:"E-mail",searchable:"",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.email)+" ")]}}])}),a("b-table-column",{attrs:{field:"accountType",label:"Tipo de conta",searchable:"",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.handleAccount(t.row.accountType))+" ")]}}])}),a("b-table-column",{attrs:{field:"status",label:"Status",searchable:"",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.handleUser(t.row.status))+" ")]}}])}),a("b-table-column",{attrs:{centered:"",field:"date",label:"Registrado em",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getDate(t.row.date))+" ")]}}])}),a("b-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("button",{staticClass:"button is-small is-info",on:{click:function(a){return e.openModal(t.row.id)}}},[a("b-icon",{attrs:{icon:"pencil",size:"is-small"}})],1)]}}])})],1),a("b-modal",{attrs:{"can-cancel":!1},model:{value:e.isModalActive,callback:function(t){e.isModalActive=t},expression:"isModalActive"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("p",[e._v("E-mail: "),a("strong",[e._v(e._s(e.email))])]),a("form",{staticClass:"form",on:{submit:e.checkForm}},[a("b-field",{staticClass:"my-5",attrs:{label:"Status","label-position":"on-border"}},[a("b-select",{attrs:{id:"selectStatus",expanded:"",placeholder:"Selecione um status",required:""},model:{value:e.selectStatus,callback:function(t){e.selectStatus=t},expression:"selectStatus"}},e._l(e.status,(function(t){return a("option",{key:t.id,domProps:{value:t.type}},[e._v(" "+e._s(t.title)+" ")])})),0)],1),a("b-field",{staticClass:"my-5",attrs:{label:"Tipo de conta","label-position":"on-border"}},[a("b-select",{attrs:{id:"selectAccountType",expanded:"",placeholder:"Selecione o tipo de conta",required:""},model:{value:e.selectAccountType,callback:function(t){e.selectAccountType=t},expression:"selectAccountType"}},e._l(e.accountType,(function(t){return a("option",{key:t.id,domProps:{value:t.type}},[e._v(" "+e._s(t.title)+" ")])})),0)],1),a("div",{staticClass:"buttons is-justify-content-space-between"},[a("b-button",{staticClass:"is-primary mb-5",attrs:{id:"saveButton",disabled:e.isLoading,"icon-left":"content-save","native-type":"submit"}},[e._v(" Salvar ")]),a("b-button",{staticClass:"mb-5",attrs:{id:"closeButton","icon-left":"close"},on:{click:function(t){e.isModalActive=!1}}},[e._v(" Fechar ")])],1)],1)])])]),a("b-loading",{attrs:{"is-full-page":!0},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}})],1),a("footer-component")],1)},xe=[];(function(e){e["ACTIVE"]="Ativo",e["INACTIVE"]="Inativo"})(he||(he={}));const qe=e=>Object.keys(he)[Object.values(he).indexOf(e)],Pe=e=>{const t=he[e];switch(t){case he.ACTIVE:return he.ACTIVE;case he.INACTIVE:return he.INACTIVE;default:return he.INACTIVE}};var Re=he,ze={data(){return{isLoading:!1,isModalActive:!1,email:null,selectAccountType:null,selectStatus:null,status:[{id:1,type:this.handleUserStatus(Re.ACTIVE),title:Re.ACTIVE},{id:2,type:this.handleUserStatus(Re.INACTIVE),title:Re.INACTIVE}],accountType:[{id:1,type:this.handleAccountType(W.USER),title:W.USER},{id:2,type:this.handleAccountType(W.ADMIN),title:W.ADMIN}],data:[{id:1,name:"Test",email:"test2@test.com",accountType:W.USER,status:Re.ACTIVE,date:new Date},{id:2,name:"Charles",email:"charles@charles.com",accountType:W.ADMIN,status:Re.INACTIVE,date:new Date}],userId:null}},methods:{checkForm(e){this.changeUser(),e.preventDefault()},getDate(e=new Date){return e.toLocaleDateString("pt-BR")},handleUserStatus(e){return qe(e)},handleUser(e){return Pe(e)},handleAccountType(e){return Z(e)},handleAccount(e){return J(e)},openModal(e){this.isModalActive=!0,this.getUser(e)},getUsers(){this.isLoading=!0,L.get("/api/v1/user").then((e=>{this.data=e.data})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))},getUser(e){this.isLoading=!0,L.get(`/api/v1/user/${e}`).then((e=>{this.selectAccountType=e.data.accountType,this.email=e.data.email,this.selectStatus=e.data.status,this.userId=e.data.id})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))},changeUser(){this.isLoading=!0,L.put("/api/v1/user/change-user",{id:this.userId,status:this.selectStatus,accountType:this.selectAccountType}).then((()=>{this.$buefy.toast.open({message:"Usuário atualizado com sucesso.",type:"is-success"}),this.isModalActive=!1,this.getUsers()})).catch((e=>{void 0===e.response?this.$buefy.toast.open({message:e.toString(),type:"is-danger"}):this.$buefy.toast.open({message:e.response.data.message,type:"is-danger"})})).finally((()=>{this.isLoading=!1}))}},mounted(){this.getUsers()},components:{MenuComponent:ee,NavbarComponent:j,FooterComponent:f}},Fe=ze,Be=(0,o.Z)(Fe,Me,xe,!1,null,null,null),Oe=Be.exports;i.Z.use(d.Z);const Ue=[{path:"/",name:"home",component:D},{path:"/login",component:D},{path:"/register",component:R},{path:"/dashboard",component:se},{path:"/requests",component:ye},{path:"/requests/create",component:we},{path:"/settings",component:Ae},{path:"/users",component:Oe},{path:"*",component:()=>a.e(818).then(a.bind(a,3818))}],$e=new d.Z({mode:"history",base:"/",routes:Ue});var Ge=$e,je=a(6496);a(1588);i.Z.use(je.ZP),i.Z.config.productionTip=!1,new i.Z({router:Ge,render:e=>e(c)}).$mount("#app")}},t={};function a(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,i,s,n){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],s=e[d][1],n=e[d][2];for(var r=!0,l=0;l<i.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every((function(e){return a.O[e](i[l])}))?i.splice(l--,1):(r=!1,n<o&&(o=n));if(r){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,i){return a.f[i](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+".38b4687b.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="help-desk:";a.l=function(i,s,n,o){if(e[i])e[i].push(s);else{var r,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+n){r=u;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",t+n),r.src=i),e[i]=[s];var m=function(t,a){r.onerror=r.onload=null,clearTimeout(p);var s=e[i];if(delete e[i],r.parentNode&&r.parentNode.removeChild(r),s&&s.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.f.j=function(t,i){var s=a.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else{var n=new Promise((function(a,i){s=e[t]=[a,i]}));i.push(s[2]=n);var o=a.p+a.u(t),r=new Error,l=function(i){if(a.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",r.name="ChunkLoadError",r.type=n,r.request=o,s[1](r)}};a.l(o,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,n,o=i[0],r=i[1],l=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(l)var d=l(a)}for(t&&t(i);c<o.length;c++)n=o[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},i=self["webpackChunkhelp_desk"]=self["webpackChunkhelp_desk"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(1998)}));i=a.O(i)})();
//# sourceMappingURL=app.71b4c563.js.map